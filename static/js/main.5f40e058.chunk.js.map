{"version":3,"sources":["components/Header.js","components/Sider.js","pages/About.js","pages/Home.js","components/reusable/FormInput.js","pages/Profile.js","hooks/useQuery.js","hooks/usePost.js","constants/validateMessages.js","pages/SignUp.js","pages/SignIn.js","components/Page.js","reducers/user.js","reducers/index.js","utils/ErrorBoundary.js","utils/PrivateRoute.js","hooks/useChat.js","hooks/useBeforeUnload.js","App.js","index.js"],"names":["Header","props","history","useHistory","title","theme","onChangeTheme","useState","user","setUser","token","localStorage","getItem","useEffect","a","axios","get","response","data","fetchData","menu","Item","to","UserOutlined","EditOutlined","FileOutlined","Divider","danger","onClick","removeItem","push","LogoutOutlined","checked","onChange","overlay","trigger","e","preventDefault","username","DownOutlined","Sider","routes","defaultSelectedKeys","location","pathname","mode","map","item","path","About","users","gutter","className","index","span","status","isOnline","email","Home","FormInput","label","inputLabel","type","inputType","value","inputValue","setInputValue","name","initialValue","event","target","Profile","query","setDate","loading","setLoading","fetch","useCallback","route","error","message","console","log","fetchApi","refetch","useQuery","formData","setFormData","current","new","password","size","icon","Title","level","layout","old","usePost","variables","post","validateMessages","required","types","number","regexp","range","string","min","max","pattern","mismatch","SignUp","postData","OnFinish","success","setItem","onChangeField","onFinish","rules","Password","htmlType","SignIn","Page","setTitle","document","children","state","action","payload","id","combineReducers","ErrorComponent","ErrorBoundary","hasError","stack","info","componentStack","this","setState","React","Component","PrivateRoute","component","rest","verifyToken","render","useChat","roomId","setUsers","socketRef","useRef","io","transports","auth","userId","emit","on","disconnect","handleBeforeunload","returnValue","window","addEventListener","removeEventListener","useBeforeUnload","store","createStore","rootReducer","composeWithDevTools","App","setTheme","dinamicRoutes","exact","staticRoutes","interceptors","request","use","config","headers","Authorization","breakpoint","Content","Footer","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.5f40e058.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Dropdown, Menu, Switch, Button } from \"antd\";\nimport axios from \"axios\";\nimport {\n    DownOutlined,\n    UserOutlined,\n    EditOutlined,\n    FileOutlined,\n    LogoutOutlined,\n} from \"@ant-design/icons\";\n\nconst Header = (props) => {\n    const history = useHistory();\n    const { title, theme, onChangeTheme } = props;\n    const [user, setUser] = useState(null);\n\n    const logOut = () => {\n        localStorage.removeItem(\"token\");\n        setUser(null);\n        history.push(\"/login\");\n    };\n\n    const token = localStorage.getItem(\"token\");\n    useEffect(() => {\n        async function fetchData() {\n            if (token) {\n                const response = await axios.get(\n                    \"http://localhost:8000/api/user\"\n                );\n                if (response.data) {\n                    setUser({\n                        ...response.data,\n                    });\n                }\n            }\n        }\n        fetchData();\n    }, [token]);\n\n    const menu = (\n        <Menu>\n            <Menu.Item key='/profile'>\n                <Link to='/profile'>\n                    <UserOutlined />\n                    Profile\n                </Link>\n            </Menu.Item>\n            <Menu.Item key='/edit-profile'>\n                <Link to='/edit-profile'>\n                    <EditOutlined />\n                    Edit Profile\n                </Link>\n            </Menu.Item>\n            <Menu.Item key='/files'>\n                <Link to='/files'>\n                    <FileOutlined />\n                    Files\n                </Link>\n            </Menu.Item>\n            <Menu.Divider />\n            <Menu.Item danger={true} key='3' onClick={logOut}>\n                <LogoutOutlined />\n                Logout\n            </Menu.Item>\n        </Menu>\n    );\n\n    return (\n        <>\n            <h1>{title}</h1>\n            <div>\n                <Switch checked={theme} onChange={onChangeTheme} />\n                {user ? (\n                    <Dropdown overlay={menu} trigger={[\"click\"]}>\n                        <Button onClick={(e) => e.preventDefault()}>\n                            {user.username}\n                            <DownOutlined />\n                        </Button>\n                    </Dropdown>\n                ) : (\n                    <>\n                        <Link to='/login'>Sign in</Link> |\n                        <Link to='/register'>Sign up</Link>\n                    </>\n                )}\n            </div>\n        </>\n    );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport { Menu } from \"antd\";\n\nconst Sider = (props) => {\n    const { routes } = props;\n    const history = useHistory();\n    return (\n        <Menu\n            theme={props.theme ? \"light\" : \"dark\"}\n            defaultSelectedKeys={[history.location.pathname]}\n            mode='inline'>\n            {routes &&\n                routes.map((item) => {\n                    return (\n                        <Menu.Item key={item.path}>\n                            <NavLink to={item.path}>{item.title}</NavLink>\n                        </Menu.Item>\n                    );\n                })}\n        </Menu>\n    );\n};\n\nexport default Sider;\n","import React from \"react\";\n\nimport { Row, Col, Badge } from \"antd\";\n\nconst About = (props) => {\n    let { users } = props;\n\n    return (\n        <Row gutter={16} className='items'>\n            {users\n                ? users.map((item, index) => {\n                      return (\n                          <Col span={6} className='item' key={index}>\n                              <div className='username'>\n                                  {item.username}\n                                  <Badge\n                                      status={\n                                          item.isOnline ? \"success\" : \"error\"\n                                      }\n                                  />\n                              </div>\n                              <div className='user-email'>{item.email}</div>\n                          </Col>\n                      );\n                  })\n                : \"Users not found\"}\n        </Row>\n    );\n};\n\nexport default About;\n","import React from \"react\";\n\nconst Home = () => {\n    // throw Error(\"error!\");\n    return <div>home</div>;\n};\n\nexport default Home;\n","import React, { useState } from \"react\";\nimport { Form, Input } from \"antd\";\n\nfunction FormInput(props) {\n    const [inputLabel] = useState(props.label);\n    const [inputType] = useState(props.type);\n    const [inputValue, setInputValue] = useState(props.value);\n\n    function handleChange(event) {\n        setInputValue(event.target.value);\n    }\n\n    return (\n        <>\n            <Form.Item\n                label={inputLabel}\n                name={inputType}\n                initialValue={inputValue}\n                value={inputValue}\n                onChange={handleChange}>\n                <Input name={inputType} />\n            </Form.Item>\n        </>\n    );\n}\nexport default FormInput;\n","import React, { useState, useEffect } from \"react\";\nimport { Row, Col, Card, Spin, Avatar, Typography, Form } from \"antd\";\nimport { UserOutlined } from \"@ant-design/icons\";\nimport { useQuery } from \"../hooks/useQuery\";\nimport FormInput from \"../components/reusable/FormInput\";\n\nconst Profile = () => {\n    const { data, loading } = useQuery(\"user\");\n    const [formData, setFormData] = useState({\n        username: \"default\",\n    });\n    const [password, setPassword] = useState({\n        current: \"\",\n        new: \"\",\n    });\n\n    useEffect(() => {\n        setFormData(data);\n    }, [data]);\n\n    if (loading) {\n        return <Spin />;\n    }\n\n    return data ? (\n        <Row gutter={16}>\n            <Col span={8}>\n                <Card className='card-user'>\n                    <Avatar size={100} icon={<UserOutlined />} />\n                    <Typography.Title level={2}>\n                        {data.username}\n                    </Typography.Title>\n                </Card>\n            </Col>\n            <Col span={16}>\n                <Card title='Account Details'>\n                    <Form layout='vertical'>\n                        <Row gutter={16}>\n                            <Col span={12}>\n                                <FormInput\n                                    label='Name'\n                                    type='text'\n                                    value={formData.username}\n                                />\n                            </Col>\n                            <Col span={12}>\n                                <FormInput\n                                    label='Email'\n                                    type='email'\n                                    value={formData.email}\n                                />\n                            </Col>\n                            <Col span={12}>\n                                <FormInput\n                                    label='Password'\n                                    type='password'\n                                    value={password.current}\n                                />\n                            </Col>\n                            <Col span={12}>\n                                <FormInput\n                                    label='New Password'\n                                    type='password'\n                                    value={password.old}\n                                />\n                            </Col>\n                        </Row>\n                    </Form>\n                </Card>\n            </Col>\n        </Row>\n    ) : null;\n};\n\nexport default Profile;\n","import axios from \"axios\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport { message } from \"antd\";\n\nexport const useQuery = (query) => {\n    const [data, setDate] = useState(null);\n    const [loading, setLoading] = useState(false);\n\n    const fetch = useCallback(() => {\n        const fetchApi = async () => {\n            setLoading(true);\n            const route = `http://localhost:8000/api/${query}`;\n            const response = await axios.get(route);\n            try {\n                if (response.data.error) {\n                    message.error(response.data.error);\n                } else if (response.data) {\n                    setDate(response.data);\n                }\n            } catch (error) {\n                message.error(\"Something went wrong\");\n                console.log(error);\n            }\n            setLoading(false);\n        };\n\n        fetchApi();\n    }, [query]);\n\n    useEffect(() => {\n        fetch();\n    }, [fetch]);\n\n    return { data, loading, refetch: fetch };\n};\n","import axios from \"axios\";\nimport { message } from \"antd\";\n\nexport const usePost = (query) => {\n    const response = async ({ variables }) => {\n        const route = `http://localhost:8000/api/${query}`;\n        const response = await axios.post(route, variables);\n        try {\n            if (response.data.error) {\n                message.error(response.data.error);\n            } else if (response.data) {\n                return response.data;\n            }\n        } catch (error) {\n            message.error(\"Something went wrong\");\n            console.log(error);\n        }\n    };\n\n    return response;\n};\n","export const validateMessages = {\n    required: '${label} is required!',\n    types: {\n        email: \"${label} is not a valid email!\",\n        number: \"${label} is not a valid number!\",\n        regexp:\n            \"${label} must including uppercase, lowercase letters and numbers\",\n    },\n    number: {\n        range: \"${label} must be between ${min} and ${max}\",\n    },\n    string: {\n        min: \"${label} must be at least ${min} characters\",\n        max: \"${label} cannot be longer than ${max} characters\",\n    },\n    pattern: {\n        mismatch:\n            \"${label} must including letters and numbers.\",\n    },\n};","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Form, Input, Button } from \"antd\";\nimport { usePost } from \"../hooks/usePost\";\nimport { validateMessages } from \"../constants/validateMessages\";\nimport { message } from \"antd\";\n\nconst SignUp = () => {\n    let history = useHistory();\n    const [user, setUser] = useState({\n        username: null,\n        email: null,\n        password: null,\n    });\n\n    const postData = usePost(\"register\");\n\n    const OnFinish = async () => {\n        const response = await postData({\n            variables: {\n                ...user,\n            },\n        });\n        if (response) {\n            message.success(\"User was created\");\n            localStorage.setItem(\"token\", response.token);\n            history.push(\"/\");\n        }\n    };\n\n    const onChangeField = (e) => {\n        setUser({\n            ...user,\n            [e.target.name]: e.target.value,\n        });\n    };\n\n    return (\n        <Form\n            onFinish={OnFinish}\n            layout='vertical'\n            validateMessages={validateMessages}>\n            <Form.Item\n                label='Username'\n                name='username'\n                value={user.username}\n                onChange={onChangeField}\n                rules={[{ required: true }]}>\n                <Input name='username' />\n            </Form.Item>\n\n            <Form.Item\n                label='Email'\n                name='email'\n                value={user.email}\n                onChange={onChangeField}\n                rules={[{ required: true, type: \"email\" }]}>\n                <Input name='email' />\n            </Form.Item>\n\n            <Form.Item\n                label='Password'\n                name='password'\n                value={user.password}\n                onChange={onChangeField}\n                rules={[\n                    {\n                        required: true,\n                        min: 8,\n                    },\n                    {\n                        pattern: /(?=.*\\d)(?=.*[a-z])/,\n                    },\n                ]}>\n                <Input.Password name='password' />\n            </Form.Item>\n\n            <Form.Item>\n                <Button type='primary' htmlType='submit'>\n                    Submit\n                </Button>\n            </Form.Item>\n        </Form>\n    );\n};\n\nexport default SignUp;\n","import React, { useState } from \"react\";\nimport { Form, Input, Button } from \"antd\";\nimport { usePost } from \"../hooks/usePost\";\nimport { validateMessages } from \"../constants/validateMessages\";\nimport { useHistory } from \"react-router-dom\";\n\nconst SignIn = () => {\n    const history = useHistory();\n    const [user, setUser] = useState({\n        email: null,\n        password: null,\n    });\n\n    const postData = usePost(\"login\");\n\n    const OnFinish = async () => {\n        const response = await postData({\n            variables: {\n                ...user,\n            },\n        });\n        if (response) {\n            localStorage.setItem(\"token\", response.token);\n            history.push(\"/\");\n        }\n    };\n\n    const onChangeField = (e) => {\n        setUser({\n            ...user,\n            [e.target.name]: e.target.value,\n        });\n    };\n\n    return (\n        <Form\n            onFinish={OnFinish}\n            layout='vertical'\n            validateMessages={validateMessages}>\n            <Form.Item\n                label='Email'\n                name='email'\n                value={user.email}\n                onChange={onChangeField}\n                rules={[{ required: true, type: \"email\" }]}>\n                <Input name='email' />\n            </Form.Item>\n\n            <Form.Item\n                label='Password'\n                name='password'\n                value={user.password}\n                onChange={onChangeField}\n                rules={[\n                    {\n                        required: true,\n                        message: \"Please input your password!\",\n                    },\n                ]}>\n                <Input.Password name='password' />\n            </Form.Item>\n\n            <Form.Item>\n                <Button type='primary' htmlType='submit'>\n                    Submit\n                </Button>\n            </Form.Item>\n        </Form>\n    );\n};\n\nexport default SignIn;\n","import { useEffect } from \"react\";\n\nexport const Page = (props) => {\n    const { title, setTitle } = props;\n    useEffect(() => {\n        setTitle(title);\n        document.title = title;\n    }, [title, setTitle]);\n    return props.children;\n};\n","const user = (state = {}, action) => {\n    switch (action.type) {\n        case \"ADD_CURRENT_USER\":\n            const { id, username, email, password } = action.payload;\n            return {\n                id,\n                username,\n                email,\n                password,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default user;\n","import { combineReducers } from \"redux\";\nimport user from \"./user\";\n\nexport default combineReducers({\n    user,\n});\n","import React from \"react\";\n\nconst ErrorComponent = () => {\n    return <h1>Something went wrong</h1>;\n};\n\nexport default class ErrorBoundary extends React.Component {\n    state = {\n        hasError: false,\n        error: { message: \"\", stack: \"\" },\n        info: { componentStack: \"\" },\n    };\n\n    static getDerivedStateFromError(error) {\n        // Обновить состояние с тем, чтобы следующий рендер показал запасной UI.\n        return { hasError: true };\n    }\n\n    componentDidCatch(error, info) {\n        this.setState({ error, info });\n    }\n\n    render() {\n        const { hasError } = this.state;\n        const { children } = this.props;\n        return hasError ? <ErrorComponent /> : children;\n    }\n}\n","import React, { useEffect } from \"react\";\nimport { Route, useHistory } from \"react-router-dom\";\nimport { Page } from \"../components/Page\";\nimport ErrorBoundary from \"./ErrorBoundary\";\nimport axios from \"axios\";\n\nexport const PrivateRoute = ({ component, ...rest }) => {\n    const history = useHistory();\n    useEffect(() => {\n        async function verifyToken() {\n            try {\n                await axios.get(\"http://localhost:8000/api/verifyToken\", {\n                    token: localStorage.getItem(\"token\"),\n                });\n            } catch (error) {\n                history.push(\"/login\");\n            }\n        }\n        verifyToken();\n    }, [history]);\n\n    return (\n        <Route\n            {...rest}\n            render={(props) => (\n                <ErrorBoundary>\n                    <Page\n                        setTitle={rest.setTitle}\n                        title={rest.title}\n                        {...props}>\n                        {component}\n                    </Page>{\" \"}\n                </ErrorBoundary>\n            )}\n        />\n    );\n};\n","import { useEffect, useRef, useState } from \"react\";\nimport io from \"socket.io-client\";\nimport axios from \"axios\";\n\nimport { useBeforeUnload } from \"./useBeforeUnload\";\n\nconst SERVER_URL = \"http://localhost:8000/\";\n\nexport const useChat = (roomId) => {\n    const [users, setUsers] = useState([]);\n    const [user, setUser] = useState(null);\n\n    const socketRef = useRef(null);\n    const token = localStorage.getItem(\"token\");\n\n    useEffect(() => {\n        async function fetchData() {\n            if (token) {\n                const response = await axios.get(\n                    \"http://localhost:8000/api/user\"\n                );\n                if (response.data) {\n                    setUser(response.data);\n                    localStorage.setItem(\"userId\", response.data.id);\n                }\n            }\n        }\n        fetchData();\n    }, [token]);\n\n    useEffect(() => {\n        if (user) {\n            socketRef.current = io(SERVER_URL, {\n                transports: [\"websocket\"],\n                query: { roomId },\n                auth: {\n                    token: token,\n                },\n            });\n\n            let userId = user && user.id;\n\n            if (userId && token) {\n                socketRef.current.emit(\"user:add\", userId);\n                socketRef.current.on(\"users\", (users) => {\n                    setUsers(users);\n                });\n                return () => {\n                    socketRef.current.disconnect(userId);\n                    socketRef.current.emit(\"user:leave\", userId);\n                };\n            } else if (!token) {\n                socketRef.current.emit(\"user:leave\", userId);\n                return () => {\n                    socketRef.current.disconnect(userId);\n                };\n            }\n        }\n    }, [roomId, user, token]);\n\n    useBeforeUnload(() => {\n        socketRef.current.emit(\"user:leave\", localStorage.getItem(\"userId\"));\n    });\n\n    return { users };\n};\n","import { useEffect } from \"react\";\n\nexport const useBeforeUnload = (value) => {\n    const handleBeforeunload = (e) => {\n        let returnValue;\n        if (typeof value === \"function\") {\n            returnValue = value(e);\n        } else {\n            returnValue = value;\n        }\n        if (returnValue) {\n            e.preventDefault();\n            e.returnValue = returnValue;\n        }\n\n        return returnValue;\n    };\n\n    useEffect(() => {\n        window.addEventListener(\"beforeunload\", handleBeforeunload);\n        return () => {\n            window.removeEventListener(\"beforeunload\", handleBeforeunload);\n        };\n\n        // eslint-disable-next-line\n    }, []);\n};\n","import React, { useState } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Layout } from \"antd\";\n\nimport Header from \"./components/Header\";\nimport Sider from \"./components/Sider\";\n\nimport About from \"./pages/About\";\nimport Home from \"./pages/Home\";\nimport Profile from \"./pages/Profile\";\nimport SignUp from \"./pages/SignUp\";\nimport SignIn from \"./pages/SignIn\";\nimport { Page } from \"./components/Page\";\n\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport rootReducer from \"./reducers\";\nimport ErrorBoundary from \"./utils/ErrorBoundary\";\nimport { PrivateRoute } from \"./utils/PrivateRoute\";\n\nimport { useChat } from \"./hooks/useChat\";\n\nconst store = createStore(rootReducer, composeWithDevTools());\n\n// store.subscribe();\nconst App = () => {\n    const [title, setTitle] = useState(\"\");\n    const [theme, setTheme] = useState(true);\n    const { users } = useChat(\"room\");\n\n    const onChangeTheme = () => {\n        setTheme(!theme);\n    };\n    const dinamicRoutes = [\n        {\n            component: <Home />,\n            path: \"/\",\n            title: \"Home\",\n            exact: true,\n        },\n        {\n            component: <Profile />,\n            path: \"/profile\",\n            title: \"Profile\",\n        },\n        {\n            component: <About users={users} />,\n            path: \"/about\",\n            title: \"About\",\n        },\n    ];\n    const staticRoutes = [\n        {\n            component: <SignUp />,\n            path: \"/register\",\n            title: \"Sign up\",\n        },\n        {\n            component: <SignIn />,\n            path: \"/login\",\n            title: \"Sign in\",\n        },\n    ];\n\n    axios.interceptors.request.use(function (config) {\n        const token = localStorage.getItem(\"token\");\n        config.headers.Authorization = `Bearer ${token}`;\n        return config;\n    });\n\n    return (\n        <Provider store={store}>\n            <Router>\n                <Layout className={theme ? \"light\" : \"dark\"}>\n                    <Layout.Sider breakpoint='xxl'>\n                        <Sider theme={theme} routes={dinamicRoutes} />\n                    </Layout.Sider>\n                    <Layout className={theme ? \"light\" : \"dark\"}>\n                        <Layout.Header>\n                            <Header\n                                title={title}\n                                theme={theme}\n                                onChangeTheme={onChangeTheme}\n                            />\n                        </Layout.Header>\n\n                        <Layout.Content>\n                            <Switch>\n                                {staticRoutes.map((item, index) => {\n                                    return (\n                                        <Route\n                                            key={index}\n                                            path={item.path}\n                                            title={item.title}\n                                            exact={item.exact}>\n                                            <ErrorBoundary>\n                                                <Page\n                                                    setTitle={setTitle}\n                                                    title={item.title}>\n                                                    {item.component}\n                                                </Page>\n                                            </ErrorBoundary>\n                                        </Route>\n                                    );\n                                })}\n                                {dinamicRoutes.map((item, index) => {\n                                    return (\n                                        <PrivateRoute\n                                            key={index}\n                                            path={item.path}\n                                            title={item.title}\n                                            exact={item.exact}\n                                            setTitle={setTitle}\n                                            component={item.component}\n                                        />\n                                    );\n                                })}\n                            </Switch>\n                        </Layout.Content>\n                        <Layout.Footer>Footer</Layout.Footer>\n                    </Layout>\n                </Layout>\n            </Router>\n        </Provider>\n    );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"antd/dist/antd.css\";\nimport \"./style.scss\";\n\nReactDOM.render(\n    // <React.StrictMode>\n    <App />,\n    // </React.StrictMode>\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}